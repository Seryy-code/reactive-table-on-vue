"use strict";(self["webpackChunkproject_router_vue"]=self["webpackChunkproject_router_vue"]||[]).push([[733],{9733:function(e,t,l){l.r(t),l.d(t,{default:function(){return q}});var n=l(6768);const o={class:"edit"},a=(0,n.Lk)("h1",null,"Cтраница редактирования",-1);function u(e,t,l,u,d,r){const p=(0,n.g2)("EditComponent");return(0,n.uX)(),(0,n.CE)("div",o,[a,(0,n.bF)(p)])}var d=l(144),r=l(4232),p=l(5130),i=l(3114),k=l(4373);const c=e=>((0,n.Qi)("data-v-23138268"),e=e(),(0,n.jt)(),e),s={class:"container"},m={class:"container-table"},L={id:"dataTable"},C=c((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"№"),(0,n.Lk)("th",null,"марка авто"),(0,n.Lk)("th",null,"номер авто"),(0,n.Lk)("th",null,"дата"),(0,n.Lk)("th",null,"описание работы"),(0,n.Lk)("th",null,"стоимость работы"),(0,n.Lk)("th",null,"запчасти"),(0,n.Lk)("th",null,"стоимость запчастей"),(0,n.Lk)("th",null,"стоимость запчастей 20%"),(0,n.Lk)("th",null,"предоплата"),(0,n.Lk)("th",null,"edit")],-1))),b=["onUpdate:modelValue"],y=["onUpdate:modelValue"],V=["onUpdate:modelValue"],U=["onUpdate:modelValue"],E=["onUpdate:modelValue"],h=["onClick"],v={class:"add"},R=["onClick"],w=["onUpdate:modelValue"],X=["onUpdate:modelValue"],J=["onUpdate:modelValue"],f=["onClick"],_={class:"add"},g=["onClick"],x=["onUpdate:modelValue"],F=["onClick"];var I={__name:"EditComponent",setup(e){const t=(0,i.V)(),l=(0,d.KR)(t.state.rows),{state:o,addRow:a,addRowWork:u,addRowPart:c,deleteRow:I,deleteRowWork:K,deleteRowPart:W}=(0,i.V)(),A={mark:"",num:"",data:"",descWork:[{description:"",price:0}],parts:[{name:"",price:0,price20:0}],prepaid:0},N={description:"",price:0},j={name:"",price:0,price20:0},q=()=>{a({...A})},O=e=>{u({...N},e)},P=e=>{c({...j},e)},z=async()=>{if(confirm("Сохранить изменения?")){const t=l.value.map((e=>({mark:e.mark,num:e.num,data:e.data,descWork:JSON.stringify(e.descWork),parts:JSON.stringify(e.parts),prepaid:e.prepaid})));try{const e=await k.A.post("https://script.google.com/macros/s/AKfycbxsNR62J90qYW84qz1q6FLYZBhMZRxt_Rw2PICee15gt68riMQ_OeJ9UzU_Cms0RN-7Lg/exec",t);console.log("Data sent successfully:",e.data),alert("Изменения сохранены!")}catch(e){console.error("Error sending data:",e.message),alert("Ошибка при сохранении изменений!")}}};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",m,[(0,n.Lk)("table",L,[C,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,d.R1)(o).rows,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,r.v_)(t+1),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.mark=t},null,8,b),[[p.Jo,e.mark]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.num=t},null,8,y),[[p.Jo,e.num]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.data=t},null,8,V),[[p.Jo,e.data]])]),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.descWork,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:(e.description,t)},[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.description=t},null,8,U),[[p.Jo,e.description]])])))),128))]),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.descWork,((e,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:(e.price,l)},[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.price=t},null,8,E),[[p.Jo,e.price]]),(0,n.Lk)("button",{onClick:e=>(0,d.R1)(K)(t,l)},"delete",8,h)])))),128)),(0,n.Lk)("tr",v,[(0,n.Lk)("button",{onClick:e=>O(t)},"add",8,R)])]),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.parts,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:(e.name,t)},[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.name=t},null,8,w),[[p.Jo,e.name]])])))),128))]),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.parts,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:(e.price,t)},[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.price=t},null,8,X),[[p.Jo,e.price]])])))),128))]),(0,n.Lk)("td",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.parts,((e,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:(e.price20,l)},[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.price20=t},null,8,J),[[p.Jo,e.price20]]),(0,n.Lk)("button",{onClick:e=>(0,d.R1)(W)(t,l)},"delete",8,f)])))),128)),(0,n.Lk)("tr",_,[(0,n.Lk)("button",{onClick:e=>P(t)},"add",8,g)])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.prepaid=t},null,8,x),[[p.Jo,e.prepaid]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>(0,d.R1)(I)(t)},"Delete",8,F)])])))),128))]),(0,n.Lk)("div",{class:"container-edit"},[(0,n.Lk)("button",{onClick:q},"add row"),(0,n.Lk)("button",{onClick:z},"save")])])]))}},K=l(1241);const W=(0,K.A)(I,[["__scopeId","data-v-23138268"]]);var A=W,N={name:"EditView",components:{EditComponent:A}};const j=(0,K.A)(N,[["render",u]]);var q=j}}]);
//# sourceMappingURL=733.a2a6bd69.js.map